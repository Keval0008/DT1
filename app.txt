def add_detailed_conflict_log(df, special_columns, submitted_by_col='Submitted by', submitted_time_col='Submitted time'):
    """
    Creates a detailed conflict log showing exact value combinations with submission info.
    """
    # Get all columns not in special_columns
    group_columns = [col for col in df.columns if col not in special_columns]
    
    # Initialize conflict log column
    df['conflict_log'] = ''
    
    # Group by all columns except the special ones
    grouped = df.groupby(group_columns, dropna=False)
    
    for name, group in grouped:
        if len(group) > 1:
            conflict_lines = ["Conflict log:"]
            
            # Check each special column for differences
            for col in special_columns:
                unique_values = group[col].dropna().unique()
                if len(unique_values) > 1:
                    # Group by unique values and collect submission info
                    value_groups = group.groupby(col)[[submitted_by_col, submitted_time_col]].agg(lambda x: '|'.join(map(str, x.unique())))
                    
                    for value, (submitters, times) in value_groups.iterrows():
                        conflict_lines.append(
                            f"- {col} has value '{value}' "
                            f"(Submitted by: {submitters}, "
                            f"Submitted time: {times})"
                        )
            
            # Join all conflict lines
            df.loc[group.index, 'conflict_log'] = '\n'.join(conflict_lines) if len(conflict_lines) > 1 else ''
    
    return df
